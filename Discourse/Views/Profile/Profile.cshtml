@model Discourse.Models.ProfileViewModel
@{
    ViewBag.Title = "Profile";
    var user = Model.User;
    var profile = Model.UserProfile;
    var name = user.FirstName + " " + user.LastName;
}

<div class="Banner">
    <img id="Banner" src=@profile.BannerPicUrl>
    <img src=@profile.ProfilePicUrl>
    <br />
    <h3><b>@name</b></h3>
    <b>@profile.Bio</b>
    <br /><br />
</div>
<div class="navbar navbar-inverse navbar-header">
    <div class="container">
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-ce">
                <li>@Html.ActionLink("Posts", "Profile", "Profile")</li>
                <li>@Html.ActionLink("Likes", "Profile", "Profile")</li> <!-- WIP -->
                <li>@Html.ActionLink("Social", "Profile", "Profile")</li> <!-- WIP -->
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>@Html.ActionLink("⚙️", "Settings", "Profile")</li>
            </ul>
        </div>
    </div>
</div>

<div class="Content">
    <h4><b>New Post</b></h4>
    <details>
        <summary>Create</summary>
        @using (Html.BeginForm("NewPost", "Profile"))
        {
            // Pass User info to NewPost action
            @Html.HiddenFor(model => model.User.AccessFailedCount);
            @Html.HiddenFor(model => model.User.BirthDate);
            @Html.HiddenFor(model => model.User.Claims);
            @Html.HiddenFor(model => model.User.Email);
            @Html.HiddenFor(model => model.User.EmailConfirmed);
            @Html.HiddenFor(model => model.User.FirstName);
            @Html.HiddenFor(model => model.User.Id);
            @Html.HiddenFor(model => model.User.IsBanned);
            @Html.HiddenFor(model => model.User.LastName);
            @Html.HiddenFor(model => model.User.LockoutEnabled);
            @Html.HiddenFor(model => model.User.LockoutEndDateUtc);
            @Html.HiddenFor(model => model.User.Logins);
            @Html.HiddenFor(model => model.User.PasswordHash);
            @Html.HiddenFor(model => model.User.PhoneNumber);
            @Html.HiddenFor(model => model.User.PhoneNumberConfirmed);
            @Html.HiddenFor(model => model.User.Roles);
            @Html.HiddenFor(model => model.User.SecurityStamp);
            @Html.HiddenFor(model => model.User.TwoFactorEnabled);
            @Html.HiddenFor(model => model.User.UserName);

            // Pass UserProfile info to NewPost action
            @Html.HiddenFor(model => model.UserProfile.BannerPicUrl);
            @Html.HiddenFor(model => model.UserProfile.Bio);
            @Html.HiddenFor(model => model.UserProfile.Id);
            @Html.HiddenFor(model => model.UserProfile.ProfilePicUrl);
            @Html.HiddenFor(model => model.UserProfile.Status);
            @Html.HiddenFor(model => model.UserProfile.UserId);

            // Pass NewPost info to NewPost Action
            @Html.HiddenFor(model => model.NewPost.UserId);
            <h5>Title</h5>
            @Html.TextBoxFor(model => model.NewPost.Title);
            <br />
            <h5>Body</h5>
            @Html.TextAreaFor(model => model.NewPost.Body);
            <br />
            <button type="submit">Submit</button>
            <br /><br />
        }
    </details>
    <br />

    <h4><b>Activity</b></h4>
    @foreach (var post in Model.UserPosts)
    {
        <h5>@post.Title</h5>
        <p>@post.Body</p>
        <p><i>@post.TimeStamp</i></p>

    }
</div>